{% extends 'diary/base.html' %}

{% block title %}일기 상세{% endblock %}

{% block content %}
<div class="diary-detail">
    <h1>일기 상세</h1>
    <div>
        <div>
            <div>
                <strong>날짜:</strong> {{ diary.diary_date }}
                <strong>기분:</strong> {{ diary.get_mood_display }}
            </div>
            <button id="check-spelling-btn" data-diary-id="{{ diary.id }}">오타 확인</button>
        </div>
        <div>
            <h5>{{ diary.summary }}</h5>
            <p id="diary-content">{{ diary.content }}</p>

            {% if diary.image_1 or diary.image_2 or diary.image_3 %}
            <div class="diary-images">
                {% if diary.image_1 %}
                <img src="{{ diary.image_1.url }}" alt="Image 1" style="max-width: 200px;">
                {% endif %}
                {% if diary.image_2 %}
                <img src="{{ diary.image_2.url }}" alt="Image 2" style="max-width: 200px;">
                {% endif %}
                {% if diary.image_3 %}
                <img src="{{ diary.image_3.url }}" alt="Image 3" style="max-width: 200px;">
                {% endif %}
            </div>
            {% endif %}
        </div>
        <div>
            <a href="{% url 'diary-list' %}">목록으로</a>
            <a href="{% url 'diary-delete' diary.id %}">삭제</a>
        </div>
    </div>

    <!-- 오타 확인 모달 -->
    <div id="spellingModal">
        <div>
            <div>
                <h5>오타 수정 결과</h5>
                <button type="button" id="close-modal-btn">닫기</button>
            </div>
            <div>
                <div>
                    <div>
                        <h6>원본 텍스트:</h6>
                        <p id="original-text"></p>
                    </div>
                    <div>
                        <h6>수정된 텍스트:</h6>
                        <p id="corrected-text"></p>
                    </div>
                </div>
            </div>
            <div>
                <button id="close-modal-btn" type="button">닫기</button>
                <button id="apply-correction-btn" type="button">적용</button>
            </div>
        </div>
    </div>
</div>
{% endblock %}
